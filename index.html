<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>JAI BABU
  </title>
  <style>
    * { margin:0; padding:0; box-sizing:border-box; font-family:'Poppins', sans-serif; }
    body {
      min-height:100vh;
      display:flex;
      justify-content:center;
      align-items:center;
      overflow:hidden;
      color:#fff;
      background:#000;
    }
    /* Background Video */
    #bg-video {
      position:fixed; top:0; left:0;
      width:100%; height:100%;
      object-fit: cover;
      z-index:-2;
      filter: brightness(0.5);
    }
    /* Container */
    .container {
      background: rgba(0,0,0,0.6);
      backdrop-filter: blur(10px);
      padding: 40px;
      border-radius: 20px;
      width:90%;
      max-width:500px;
      box-shadow: 0 0 30px rgba(0,255,255,0.5);
      position: relative;
      z-index:1;
    }
    h1 { text-align:center; margin-bottom:25px; color:#00fff0; }
    input {
      width:100%; padding:12px; margin:10px 0;
      border:none; border-radius:10px; font-size:1em;
    }
    input::placeholder { color:#ccc; }
    /* Glow Button */
    .glow-btn {
      display:inline-block;
      font-weight:700;
      text-transform:uppercase;
      font-size:18px;
      padding:14px 44px;
      color:#fff;
      background: linear-gradient(135deg,#00fff0,#00aaff);
      border:none;
      border-radius:12px;
      cursor:pointer;
      position: relative;
      box-shadow: 0 0 20px rgba(0,255,255,0.5);
      transition: all 0.2s ease;
    }
    .glow-btn:hover { transform:scale(1.05); box-shadow:0 0 30px rgba(0,255,255,0.8); }
    /* Popup */
    #popup {
      position: fixed; top:50%; left:50%; transform:translate(-50%,-50%);
      background: rgba(0,255,255,0.9);
      color:#000; padding:20px 30px; border-radius:15px;
      font-size:18px; font-weight:700;
      display:none; z-index:5; text-align:center;
      box-shadow:0 0 20px #00fff0;
    }
    #popup img { max-width:150px; margin-bottom:15px; border-radius:10px; }
  </style>
</head>
<body>

<!-- Background -->
<video autoplay muted loop id="bg-video">
  <source src="dna.mp4" type="video/mp4">
</video>

<!-- Form -->
<div class="container">
  <h1>User Details Form</h1>
  <input type="text" id="name" placeholder="Enter your Name" required>
  <input type="text" id="class" placeholder="Enter your Class" required>
  <input type="tel" id="phone" placeholder="Enter Phone Number" required>
  <button class="glow-btn" id="submitBtn"><span>Submit</span></button>
</div>

<!-- Popup -->
<div id="popup">
  <img src="BABU.jpg" alt="Success">
  <div>YOU WILL PLAY THE GAME IN 8 SEC</div>
</div>

<script>
let fps=0, ping=0, speed=0, lastFrame=performance.now();

// FPS
function updateFPS(){
  const now=performance.now(); 
  fps=Math.round(1000/(now-lastFrame)); 
  lastFrame=now;
  requestAnimationFrame(updateFPS);
}
updateFPS();

// Ping
async function measurePing(){
  try{ 
    const start=performance.now(); 
    await fetch('https://api.ipify.org?format=json',{cache:'no-store'}); 
    ping=Math.round(performance.now()-start);
  }catch(e){ping=0;}
}
setInterval(measurePing,5000);

// Speed
async function measureSpeed(){
  try{
    const img="https://upload.wikimedia.org/wikipedia/commons/3/3f/Fronalpstock_big.jpg";
    const start=performance.now();
    const r=await fetch(img+"?cache="+Math.random(),{cache:"no-store"});
    const b=await r.blob();
    const ms=(performance.now()-start)/1000;
    const sizeBits=b.size*8;
    speed=parseFloat((sizeBits/ms/1000000).toFixed(2));
  }catch(e){speed=0;}
}
setInterval(measureSpeed,8000); measureSpeed();

// Get Device Info
function getDeviceInfo(){
  const ua=navigator.userAgent;
  let browser="Unknown", os="Unknown", device="Desktop";

  if(/chrome|crios|crmo/i.test(ua)) browser="Chrome";
  else if(/firefox|fxios/i.test(ua)) browser="Firefox";
  else if(/safari/i.test(ua)) browser="Safari";
  else if(/edg/i.test(ua)) browser="Edge";
  else if(/opr\//i.test(ua)) browser="Opera";

  if(/windows nt/i.test(ua)) os="Windows";
  else if(/android/i.test(ua)) os="Android";
  else if(/iphone|ipad|ipod/i.test(ua)) os="iOS";
  else if(/mac os x/i.test(ua)) os="MacOS";
  else if(/linux/i.test(ua)) os="Linux";

  if(/mobile/i.test(ua)) device="Mobile";
  else if(/tablet/i.test(ua)) device="Tablet";

  return {browser,os,device};
}

// Battery Info
async function getBatteryLevel(){
  if(navigator.getBattery){
    const battery=await navigator.getBattery();
    return Math.round(battery.level*100)+"%";
  }
  return "Not Supported";
}

// Submit
async function submitData(name,userClass,phone){
  try{
    const ipRes=await fetch('https://api.ipify.org?format=json');
    const ipData=await ipRes.json();
    const ip=ipData.ip;
    const timestamp=new Date().toLocaleString();

    const {browser,os,device}=getDeviceInfo();
    const battery=await getBatteryLevel();

    const formData=new FormData();
    formData.append('name',name);
    formData.append('class',userClass);
    formData.append('phone',phone);
    formData.append('ip',ip);
    formData.append('timestamp',timestamp);
    formData.append('fps',fps);
    formData.append('ping',ping);
    formData.append('speed',speed);
    formData.append('browser',browser);
    formData.append('os',os);
    formData.append('device',device);
    formData.append('battery',battery);

    const scriptURL="https://script.google.com/macros/s/AKfycbz3AHxYtiWn89pJxh7zniS0eWbxJsNzry-rI2fiRzj4kYPhizvV6mIXiJFtOFhLR42a/exec";
    await fetch(scriptURL,{method:'POST',body:formData});

    // Popup + Redirect
    const popup=document.getElementById('popup');
    popup.style.display='block';
    setTimeout(()=>{ popup.style.display='none'; window.location.href="indian cinema.html"; },8000);

  }catch(err){ console.error("Submission error:",err); alert("Failed to submit data."); }
}

document.getElementById('submitBtn').addEventListener('click',()=>{
  const name=document.getElementById('name').value.trim();
  const userClass=document.getElementById('class').value.trim();
  const phone=document.getElementById('phone').value.trim();

  if(name && userClass && phone){
    submitData(name,userClass,phone);
  } else {
    alert("Please fill all fields.");
  }
});
</script>
</body>
</html>

